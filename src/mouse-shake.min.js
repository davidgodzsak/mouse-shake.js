!function(){function e(e,t,a){var o,s=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),h=Math.sqrt(Math.pow(t.x-a.x,2)+Math.pow(t.y-a.y,2)),n=Math.sqrt(Math.pow(a.x-e.x,2)+Math.pow(a.y-e.y,2));return o=s*h==0?0:180-180*Math.acos((Math.pow(s,2)+Math.pow(h,2)-Math.pow(n,2))/(2*s*h))/Math.PI}Stamp=function(e,t,a){this.x=e,this.y=t,this.time=a};var t={moves:[],deg:0,tick:(new Date).getTime(),x:0,y:0,refresh:80,shakeDeg:500,lifeTime:500,l:!1},a=new Event("mouseshake",{detail:"mouseshake fired",bubbles:!0,cancelable:!0});document.addEventListener("mousemove",function(e){t.x=e.pageX,t.y=e.pageY,t.l=!0}),detect=setInterval(function(){if(t.l){var o=(new Date).getTime(),s=new Stamp(t.x,t.y,o);t.moves.push(s),t.l=!1}for(var h=0;h<t.moves.length;++h)o-t.moves[h].time>t.lifeTime&&t.moves.splice(h,1);if(t.deg=0,t.moves.length>2)for(var h=2;h<t.moves.length;++h)t.deg+=e(t.moves[h],t.moves[h-1],t.moves[h-2]);t.deg>t.shakeDeg&&(document.dispatchEvent(a),t.deg=0,t.moves=[])},t.refresh)}();
